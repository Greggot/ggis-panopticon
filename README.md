# ГГИС Паноптикум
Скрипты для упрощения жизни при работе с Kaiten, Gitlab и пр.

## Cодержание  

[Установка зависимостей](#установка-зависимостей)  
[Использование](#использование)  
[Пожелания и предложения](#пожелания-и-предложения)

## Установка зависимостей 

Python3 предуставновлен на Ubuntu, но если что
```bash
sudo apt-get update
sudo apt-get install python3.6
```

Необходимо поставить расширение для стандатрного модуля по работе с датой и временем:
```
pip install python-dateutil
```

Также стоит поставить питону модуль `requests`:
```bash
sudo apt -y install python3-pip
pip3 install requests
```

## Использование skird.py

Скрипт создает и оформляет карточки по корпоративному стандарту

1. Поместить номера сторей в текстовый файл `data/tasks.txt` (или поменяйте путь в скрипте). 
На каждой новой строчке - через `Tab` описание того, что вы нужно сделать

```txt
42.0
   Страдать фигней
   Рефакторинг
   Связь с front-end
```

2. Добавить файл `env/env.json`

```json
{
 "kaiten_host": "https://kaiten.iccdev.ru", 
 "kaiten_token": "ваш-токен"
}
```

3. Запустить скрипт: 

```bash
python3 skird.py
```

4. ??????
5. Profit. Ваши задачи конвертируются в задачи delivery в бэклоге спринта с нужными:
   - названием (включает id карточки as well)
   - меткой "ГГИС"
   - типом
   - пользователем(вы) в роли "ответственного"
   - Ролью C++

## Использование time_management.py

Скрипт автоматически списывает одинаковое время в административную карточку в течение указанного времени

1. Заполнить под свою карточку файл с настройками `env/auto_time_log.json`

```json
{
    "start_date": "2024-04-01",  // Дата начала списаний YYYY-MM-DD

    "days_count": 3,             // Количество дней в течение которых списывать, включая выходные.
                                 // В сами выходные время списано не будет, просто оффсет по дням так работает.

    "time_spent": 20,            // Время списаний в минутах

    "role_id": 3,                // Идентификатор роли, 3 - разработчик, остальные потом пронумерую

    "card_id": 24411             // ID карточки, в которую списать время. В данном случае - это дейлики
}
```

2. Запустить скрипт:

```bash
python3 time_management.py
```

3. Принять всю ответственность на себя и ввести любой бред, начинающийся на `y` или `Y`.

4. ????????

5. Profit

## Пожелания и предложения

Оформляйте пожелания в `Issues`, отправляйте предложения через `Pull requests`
